@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Project 3</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body onload="listGroups()">
    <form name="combowithtext">

        <div class="jumbotron text-center">
            <div class="container">
                <div class="col-sm-4">
                    <p>
                        <label for="Group">Groups:</label>

                        <select id="mydropdown" onChange="showtext()">
                        </select>
                    </p>

                </div>
                <div class="col-sm-4">
                    <p>Add new item <button type="button" onclick="addItem()">+</button></p>
                    <p>Add new group <button type="button" onclick="addGroup()">+</button></p>


                </div>
            </div>
        </div>
        <center>
            <div class="container">
                <textarea rows=8 cols=21 wrap="virtual" name="text00" onChange="updateText()"></textarea>
                <textarea rows=8 cols=21 wrap="virtual" name="text01" onChange="updateText()"></textarea>
                <textarea rows=8 cols=21 wrap="virtual" name="text02" onChange="updateText()"></textarea>
            </div>
            <div class="container">
                <textarea rows=8 cols=21 wrap="virtual" name="text10" onChange="updateText()"></textarea>
                <textarea rows=8 cols=21 wrap="virtual" name="text11" onChange="updateText()"></textarea>
                <textarea rows=8 cols=21 wrap="virtual" name="text12" onChange="updateText()"></textarea>
            </div>
        </center>
        </form>
        <p id="demo"></p>
        <script>
            //http://www.javascriptkit.com/script/script2/combodescrip1.shtml used to help give us an idea of the boxes for
            //the combobox to populating items.
            var title = ["Group1", "Group2", "Group3"]; // Possible Values
            var shortcut = document.combowithtext;
            var descriptions = [];
           


            function listGroups() {
                var sel = document.getElementById('mydropdown') // find the drop down
                for (var i in title) { // loop through all elements
                    var opt = document.createElement("option"); // Create the new element
                    opt.value = title[i]; // set the value
                    opt.text = title[i]; // set the text
                    sel.appendChild(opt); // add it to the select
                }
            }

            function addGroup() {
                var sel = document.getElementById('mydropdown') // find the drop down
                var length = sel.options.length;
                for (i = length - 1; i >= 0; i--) {
                    sel.options[i] = null;
                }


                var i = title.length + 1;
                title[title.length] = "Group" + i;
                listGroups();
                //document.getElementById("demo").innerHTML = length;

            }

            function addItem() {
                var grpForItem = title[shortcut.mydropdown.selectedIndex];

                var i = descriptions.length + 1;
                descriptions[descriptions.length] = grpForItem + " Item " + i + " description...";
                shortcut.text00.value = descriptions[0];
                shortcut.text01.value = descriptions[1];
                shortcut.text02.value = descriptions[2];
                shortcut.text10.value = descriptions[3];
                shortcut.text11.value = descriptions[4];
                shortcut.text12.value = descriptions[5];

            }

            function showtext() {
                shortcut.text00.value = descriptions[0];
                shortcut.text01.value = descriptions[1];
                shortcut.text02.value = descriptions[2];
                shortcut.text10.value = descriptions[3];
                shortcut.text11.value = descriptions[4];
                shortcut.text12.value = descriptions[5];

            }

            function updateText() {
                if (descriptions[0] != null) {
                    descriptions[0] = shortcut.text00.value;
                }
                else {
                    shortcut.text00.value = "Error. No item here to edit.";
                }
                if (descriptions[1] != null) {
                    descriptions[1] = shortcut.text01.value;
                }
                else {
                    shortcut.text01.value = "Error. No item here to edit.";
                }
                if (descriptions[2] != null) {
                    descriptions[2] = shortcut.text02.value;
                }
                else {
                    shortcut.text02.value = "Error. No item here to edit.";
                }
                if (descriptions[3] != null) {
                    descriptions[3] = shortcut.text10.value;
                }
                else {
                    shortcut.text10.value = "Error. No item here to edit.";
                }
                if (descriptions[4] != null) {
                    descriptions[4] = shortcut.text11.value;
                }
                else {
                    shortcut.text11.value = "Error. No item here to edit.";
                }
                if (descriptions[5] != null) {
                    descriptions[5] = shortcut.text12.value;
                }
                else {
                    shortcut.text12.value = "Error. No item here to edit.";
                }

            }


        </script>


</body>
</html>